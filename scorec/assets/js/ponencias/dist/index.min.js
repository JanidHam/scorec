(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _utilsHelpersJs = require('../../utils/helpers.js');

var _utilsHelpersJs2 = _interopRequireDefault(_utilsHelpersJs);

var Ponencia = (function () {
	function Ponencia(id, ponente, tema, date, startHour, endHour, minLate, minFault, aula) {
		_classCallCheck(this, Ponencia);

		this._id = id;
		this._ponente = ponente;
		this._tema = tema;
		this._date = date;
		this._startHour = startHour;
		this._endHour = endHour;
		this._minLate = minLate;
		this._minFault = minFault;
		this._aula = aula;

		this._ERROR_PONENTE_EMPTY = "Debe seleccionar un ponente de la lista.";
		this._ERROR_TEMA_EMPTY = "Debe seleccionar un tema de la lista.";
		this._ERROR_DATE_EMPTY = "Debe seleccionar una fecha para la ponencia.";
		this._ERROR_STARTHOUR_EMPTY = "Debe seleccionar la hora inicio de la ponencia.";
		this._ERROR_ENDHOUR_EMPTY = "Debe seleccionar la hora fin de la ponencia.";
		this._ERROR_MINLATE_EMPTY = "Debe seleccionar los minutos de retardo permitidos.";
		this._ERROR_MINFAULT_EMPTY = "Debe seleccionar los minutos de retardo para considerar falta.";
		this._ERROR_AULA_EMPTY = "Debe seleccionar el aula de la ponencia.";
		this._ERROR_MINLATE_INVALID = "Sólo se aceptan números enteros para los minutos de retardo.";
		this._ERROR_MINFAULT_INVALID = "Sólo se aceptan números enteros para los minutos de falta.";
		this._ERROR_MINLATE_GRATTER_MINFAULT = "Los minutos de retardo no pueden exceder a los de falta.";
		this._SUCCESS_SAVE = "La ponencia se creó con éxito.";
		this._URL_SAVE_PONENCIA = "/ponencias/add";

		this._bind('_validResponse');
	}

	_createClass(Ponencia, [{
		key: "_bind",
		value: function _bind() {
			var _this = this;

			for (var _len = arguments.length, methods = Array(_len), _key = 0; _key < _len; _key++) {
				methods[_key] = arguments[_key];
			}

			methods.forEach(function (method) {
				return _this[method] = _this[method].bind(_this);
			});
		}
	}, {
		key: "isValidPonencia",
		value: function isValidPonencia() {
			if (this._ponente > 0) {
				if (this._tema > 0) {
					if (this._date !== '') {
						if (this._startHour !== '') {
							if (this._endHour !== '') {
								if (this._minLate !== '') {
									if (_utilsHelpersJs2["default"].isNumber(this._minLate)) {
										if (this._minFault !== '') {
											if (_utilsHelpersJs2["default"].isNumber(this._minFault)) {
												if (this._minLate < this._minFault) {
													if (this._aula !== '') return true;else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_AULA_EMPTY);
												} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_MINLATE_GRATTER_MINFAULT);
											} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_MINFAULT_INVALID);
										} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_MINFAULT_EMPTY);
									} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_MINLATE_INVALID);
								} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_MINLATE_EMPTY);
							} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_ENDHOUR_EMPTY);
						} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_STARHOUR_EMPTY);
					} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_DATE_EMPTY);
				} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_TEMA_EMPTY);
			} else _utilsHelpersJs2["default"].drawMessage('danger', this._ERROR_PONENTE_EMPTY);

			return false;
		}
	}, {
		key: "_cleanFields",
		value: function _cleanFields() {
			//$('#ponente').val('')
			//$('#company').val('')
		}
	}, {
		key: "_validResponse",
		value: function _validResponse(response) {
			if (response.message === 'ok') {
				_utilsHelpersJs2["default"].drawMessage('success', this._SUCCESS_SAVE);
				this._cleanFields();
			} else _utilsHelpersJs2["default"].drawMessage('danger', response.message);
		}
	}, {
		key: "sendData",
		value: function sendData() {
			var data = this.createDataToSend();
			_utilsHelpersJs2["default"].sendDataToServer(this._URL_SAVE_PONENCIA, data, this._validResponse);
		}
	}, {
		key: "createDataToSend",
		value: function createDataToSend() {
			return {
				ponente: this._ponente,
				tema: this._tema,
				date: this._date,
				startHour: this._startHour,
				endHour: this._endHour,
				minLate: this._minLate,
				minFault: this._minFault,
				aula: this._aula
			};
		}
	}, {
		key: "ponente",
		get: function get() {
			return this._ponente;
		},
		set: function set(ponente) {
			this._ponente = ponente;
		}
	}, {
		key: "tema",
		get: function get() {
			return this._tema;
		},
		set: function set(tema) {
			this._tema = tema;
		}
	}, {
		key: "date",
		get: function get() {
			return this._date;
		},
		set: function set(date) {
			this._date = date;
		}
	}, {
		key: "startHour",
		get: function get() {
			return this._startHour;
		},
		set: function set(startHour) {
			this._startHour = startHour;
		}
	}, {
		key: "endHour",
		get: function get() {
			return this._endHour;
		},
		set: function set(endHour) {
			this._endHour = endHour;
		}
	}, {
		key: "minLate",
		get: function get() {
			return this._minLate;
		},
		set: function set(minLate) {
			this._minLate = minLate;
		}
	}, {
		key: "minFault",
		get: function get() {
			return this._minFault;
		},
		set: function set(minFault) {
			this._minFault = minFault;
		}
	}, {
		key: "aula",
		get: function get() {
			return this._aula;
		},
		set: function set(aula) {
			this._aula = aula;
		}
	}]);

	return Ponencia;
})();

exports["default"] = Ponencia;
module.exports = exports["default"];

},{"../../utils/helpers.js":3}],2:[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _PonenciaJs = require('./Ponencia.js');

var _PonenciaJs2 = _interopRequireDefault(_PonenciaJs);

$('#btnSave').on('click', function (e) {
	var ponencia = new _PonenciaJs2['default'](-1, $('#ponentes').val(), $('#temas').val(), $('#date').val(), $('#startHour').val(), $('#endHour').val(), $('#minLate').val(), $('#minFault').val(), $('#aula').val());

	if (!ponencia.isValidPonencia()) return false;

	ponencia.sendData();

	return false; //Tiene la misma funcion que el e.preventDefault()
});

function handlerNewData(data, object) {
	object.append('<option value="' + data.id + '">' + data.name + '</option>');
}

io.socket.on('connect', function () {
	io.socket.on('new tema', function (tema) {
		handlerNewData(tema, $('#temas'));
	});
	io.socket.on('new ponente', function (ponente) {
		handlerNewData(ponente, $('#ponentes'));
	});
});

},{"./Ponencia.js":1}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Helpers = (function () {
	function Helpers() {
		_classCallCheck(this, Helpers);
	}

	_createClass(Helpers, null, [{
		key: 'drawMessage',
		value: function drawMessage(type, message) {
			this.cleanMessages();
			$('#messages').prepend('<div class="alert alert-' + type + ' alert-dismissible" role="alert">' + '<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>' + '<strong>' + message + '</strong> </div>');
			this.cleanMessageByTime(5000);
		}
	}, {
		key: 'cleanMessageByTime',
		value: function cleanMessageByTime(timeOut) {
			setTimeout(function () {
				return $('#messages').empty();
			}, timeOut);
		}
	}, {
		key: 'cleanMessages',
		value: function cleanMessages() {
			$('#messages').empty();
		}
	}, {
		key: 'isNumber',
		value: function isNumber(value) {
			return (/^\d+$/.test(value)
			);
		}
	}, {
		key: 'sendDataToServer',
		value: function sendDataToServer(url, data, succesFunction) {
			$.post(url, data, succesFunction).fail(function (xhr, status) {
				alert("Hubo un error al enviar los datos, favor de comunicarse con el área de informática.");
			}).always(function () {
				console.log('send complete');
			});
		}
	}]);

	return Helpers;
})();

exports['default'] = Helpers;
module.exports = exports['default'];

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvamFuaWRoYW0vU2FpbHNKUy9zY29yZWMvc2NvcmVjL2Fzc2V0cy9qcy9wb25lbmNpYXMvZXM2L1BvbmVuY2lhLmpzIiwiL1VzZXJzL2phbmlkaGFtL1NhaWxzSlMvc2NvcmVjL3Njb3JlYy9hc3NldHMvanMvcG9uZW5jaWFzL2VzNi9pbmRleC5qcyIsIi9Vc2Vycy9qYW5pZGhhbS9TYWlsc0pTL3Njb3JlYy9zY29yZWMvYXNzZXRzL2pzL3V0aWxzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OEJDQW9CLHdCQUF3Qjs7OztJQUV0QyxRQUFRO0FBQ0YsVUFETixRQUFRLENBQ0QsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7d0JBRDdFLFFBQVE7O0FBRVosTUFBSSxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUE7QUFDcEIsTUFBSSxDQUFDLFFBQVEsR0FBSyxPQUFPLENBQUE7QUFDekIsTUFBSSxDQUFDLEtBQUssR0FBUSxJQUFJLENBQUE7QUFDdEIsTUFBSSxDQUFDLEtBQUssR0FBUSxJQUFJLENBQUE7QUFDdEIsTUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUE7QUFDM0IsTUFBSSxDQUFDLFFBQVEsR0FBSyxPQUFPLENBQUE7QUFDekIsTUFBSSxDQUFDLFFBQVEsR0FBSyxPQUFPLENBQUE7QUFDekIsTUFBSSxDQUFDLFNBQVMsR0FBSSxRQUFRLENBQUE7QUFDMUIsTUFBSSxDQUFDLEtBQUssR0FBUSxJQUFJLENBQUE7O0FBRXRCLE1BQUksQ0FBQyxvQkFBb0IsR0FBYywwQ0FBMEMsQ0FBQTtBQUNqRixNQUFJLENBQUMsaUJBQWlCLEdBQWlCLHVDQUF1QyxDQUFB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LCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgSGVscGVycyBmcm9tICcuLi8uLi91dGlscy9oZWxwZXJzLmpzJ1xuXG5jbGFzcyBQb25lbmNpYSB7XG5cdGNvbnN0cnVjdG9yKGlkLCBwb25lbnRlLCB0ZW1hLCBkYXRlLCBzdGFydEhvdXIsIGVuZEhvdXIsIG1pbkxhdGUsIG1pbkZhdWx0LCBhdWxhKSB7XG5cdFx0dGhpcy5faWQgICAgICAgID0gaWRcblx0XHR0aGlzLl9wb25lbnRlICAgPSBwb25lbnRlXG5cdFx0dGhpcy5fdGVtYSAgICAgID0gdGVtYVxuXHRcdHRoaXMuX2RhdGUgICAgICA9IGRhdGVcblx0XHR0aGlzLl9zdGFydEhvdXIgPSBzdGFydEhvdXJcblx0XHR0aGlzLl9lbmRIb3VyICAgPSBlbmRIb3VyXG5cdFx0dGhpcy5fbWluTGF0ZSAgID0gbWluTGF0ZVxuXHRcdHRoaXMuX21pbkZhdWx0ICA9IG1pbkZhdWx0XG5cdFx0dGhpcy5fYXVsYSAgICAgID0gYXVsYVxuXG5cdFx0dGhpcy5fRVJST1JfUE9ORU5URV9FTVBUWSAgICAgICAgICAgID0gXCJEZWJlIHNlbGVjY2lvbmFyIHVuIHBvbmVudGUgZGUgbGEgbGlzdGEuXCJcblx0XHR0aGlzLl9FUlJPUl9URU1BX0VNUFRZICAgICAgICAgICAgICAgPSBcIkRlYmUgc2VsZWNjaW9uYXIgdW4gdGVtYSBkZSBsYSBsaXN0YS5cIlxuXHRcdHRoaXMuX0VSUk9SX0RBVEVfRU1QVFkgICAgICAgICAgICAgICA9IFwiRGViZSBzZWxlY2Npb25hciB1bmEgZmVjaGEgcGFyYSBsYSBwb25lbmNpYS5cIlxuXHRcdHRoaXMuX0VSUk9SX1NUQVJUSE9VUl9FTVBUWSAgICAgICAgICA9IFwiRGViZSBzZWxlY2Npb25hciBsYSBob3JhIGluaWNpbyBkZSBsYSBwb25lbmNpYS5cIlxuXHRcdHRoaXMuX0VSUk9SX0VOREhPVVJfRU1QVFkgICAgICAgICAgICA9IFwiRGViZSBzZWxlY2Npb25hciBsYSBob3JhIGZpbiBkZSBsYSBwb25lbmNpYS5cIlxuXHRcdHRoaXMuX0VSUk9SX01JTkxBVEVfRU1QVFkgICAgICAgICAgICA9IFwiRGViZSBzZWxlY2Npb25hciBsb3MgbWludXRvcyBkZSByZXRhcmRvIHBlcm1pdGlkb3MuXCJcblx0XHR0aGlzLl9FUlJPUl9NSU5GQVVMVF9FTVBUWSAgICAgICAgICAgPSBcIkRlYmUgc2VsZWNjaW9uYXIgbG9zIG1pbnV0b3MgZGUgcmV0YXJkbyBwYXJhIGNvbnNpZGVyYXIgZmFsdGEuXCJcblx0XHR0aGlzLl9FUlJPUl9BVUxBX0VNUFRZICAgICAgICAgICAgICAgPSBcIkRlYmUgc2VsZWNjaW9uYXIgZWwgYXVsYSBkZSBsYSBwb25lbmNpYS5cIlxuXHRcdHRoaXMuX0VSUk9SX01JTkxBVEVfSU5WQUxJRCAgICAgICAgICA9IFwiU8OzbG8gc2UgYWNlcHRhbiBuw7ptZXJvcyBlbnRlcm9zIHBhcmEgbG9zIG1pbnV0b3MgZGUgcmV0YXJkby5cIlxuXHRcdHRoaXMuX0VSUk9SX01JTkZBVUxUX0lOVkFMSUQgICAgICAgICA9IFwiU8OzbG8gc2UgYWNlcHRhbiBuw7ptZXJvcyBlbnRlcm9zIHBhcmEgbG9zIG1pbnV0b3MgZGUgZmFsdGEuXCJcblx0XHR0aGlzLl9FUlJPUl9NSU5MQVRFX0dSQVRURVJfTUlORkFVTFQgPSBcIkxvcyBtaW51dG9zIGRlIHJldGFyZG8gbm8gcHVlZGVuIGV4Y2VkZXIgYSBsb3MgZGUgZmFsdGEuXCJcblx0XHR0aGlzLl9TVUNDRVNTX1NBVkUgICAgICAgICAgICAgICAgICAgPSBcIkxhIHBvbmVuY2lhIHNlIGNyZcOzIGNvbiDDqXhpdG8uXCJcblx0XHR0aGlzLl9VUkxfU0FWRV9QT05FTkNJQSAgICAgICAgICAgICAgPSBcIi9wb25lbmNpYXMvYWRkXCJcblxuXHRcdHRoaXMuX2JpbmQoJ192YWxpZFJlc3BvbnNlJylcblx0fVxuXG5cdGdldCBwb25lbnRlKCkge1xuXHRcdHJldHVybiB0aGlzLl9wb25lbnRlXG5cdH1cblx0c2V0IHBvbmVudGUocG9uZW50ZSkge1xuXHRcdHRoaXMuX3BvbmVudGUgPSBwb25lbnRlXG5cdH1cblxuXHRnZXQgdGVtYSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fdGVtYVxuXHR9XG5cdHNldCB0ZW1hKHRlbWEpIHtcblx0XHR0aGlzLl90ZW1hID0gdGVtYVxuXHR9XG5cblx0Z2V0IGRhdGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGVcblx0fVxuXHRzZXQgZGF0ZShkYXRlKSB7XG5cdFx0dGhpcy5fZGF0ZSA9IGRhdGVcblx0fVxuXG5cdGdldCBzdGFydEhvdXIoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3N0YXJ0SG91clxuXHR9XG5cdHNldCBzdGFydEhvdXIoc3RhcnRIb3VyKSB7XG5cdFx0dGhpcy5fc3RhcnRIb3VyID0gc3RhcnRIb3VyXG5cdH1cblxuXHRnZXQgZW5kSG91cigpIHtcblx0XHRyZXR1cm4gdGhpcy5fZW5kSG91clxuXHR9XG5cdHNldCBlbmRIb3VyKGVuZEhvdXIpIHtcblx0XHR0aGlzLl9lbmRIb3VyID0gZW5kSG91clxuXHR9XG5cblx0Z2V0IG1pbkxhdGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX21pbkxhdGVcblx0fVxuXHRzZXQgbWluTGF0ZShtaW5MYXRlKSB7XG5cdFx0dGhpcy5fbWluTGF0ZSA9IG1pbkxhdGVcblx0fVxuXG5cdGdldCBtaW5GYXVsdCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbWluRmF1bHRcblx0fVxuXHRzZXQgbWluRmF1bHQobWluRmF1bHQpIHtcblx0XHR0aGlzLl9taW5GYXVsdCA9IG1pbkZhdWx0XG5cdH1cblxuXHRnZXQgYXVsYSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fYXVsYVxuXHR9XG5cdHNldCBhdWxhKGF1bGEpIHtcblx0XHR0aGlzLl9hdWxhID0gYXVsYVxuXHR9XG5cblx0X2JpbmQoLi4ubWV0aG9kcykge1xuXHRcdG1ldGhvZHMuZm9yRWFjaCggKG1ldGhvZCkgPT4gdGhpc1ttZXRob2RdID0gdGhpc1ttZXRob2RdLmJpbmQodGhpcykgKVxuXHR9XG5cblx0aXNWYWxpZFBvbmVuY2lhKCkge1xuXHRcdGlmICh0aGlzLl9wb25lbnRlID4gMCkge1xuXHRcdFx0aWYgKHRoaXMuX3RlbWEgPiAwKSB7XG5cdFx0XHRcdGlmICh0aGlzLl9kYXRlICE9PSAnJykge1xuXHRcdFx0XHRcdGlmICh0aGlzLl9zdGFydEhvdXIgIT09ICcnKSB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5fZW5kSG91ciAhPT0gJycpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX21pbkxhdGUgIT09ICcnKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKEhlbHBlcnMuaXNOdW1iZXIodGhpcy5fbWluTGF0ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICh0aGlzLl9taW5GYXVsdCAhPT0gJycpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKEhlbHBlcnMuaXNOdW1iZXIodGhpcy5fbWluRmF1bHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX21pbkxhdGUgPCB0aGlzLl9taW5GYXVsdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuX2F1bGEgIT09ICcnKSByZXR1cm4gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZWxzZSBIZWxwZXJzLmRyYXdNZXNzYWdlKCdkYW5nZXInLCB0aGlzLl9FUlJPUl9BVUxBX0VNUFRZKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX01JTkxBVEVfR1JBVFRFUl9NSU5GQVVMVClcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX01JTkZBVUxUX0lOVkFMSUQpXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX01JTkZBVUxUX0VNUFRZKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX01JTkxBVEVfSU5WQUxJRClcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX01JTkxBVEVfRU1QVFkpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX0VOREhPVVJfRU1QVFkpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgSGVscGVycy5kcmF3TWVzc2FnZSgnZGFuZ2VyJywgdGhpcy5fRVJST1JfU1RBUkhPVVJfRU1QVFkpXG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBIZWxwZXJzLmRyYXdNZXNzYWdlKCdkYW5nZXInLCB0aGlzLl9FUlJPUl9EQVRFX0VNUFRZKVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBIZWxwZXJzLmRyYXdNZXNzYWdlKCdkYW5nZXInLCB0aGlzLl9FUlJPUl9URU1BX0VNUFRZKVxuXHRcdH1cblx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHRoaXMuX0VSUk9SX1BPTkVOVEVfRU1QVFkpXG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fVxuXG5cdF9jbGVhbkZpZWxkcygpIHtcblx0XHQvLyQoJyNwb25lbnRlJykudmFsKCcnKVxuXHRcdC8vJCgnI2NvbXBhbnknKS52YWwoJycpXG5cdH1cblxuXHRfdmFsaWRSZXNwb25zZShyZXNwb25zZSkge1xuXHRcdGlmIChyZXNwb25zZS5tZXNzYWdlID09PSAnb2snKSB7XG5cdFx0XHRIZWxwZXJzLmRyYXdNZXNzYWdlKCdzdWNjZXNzJywgdGhpcy5fU1VDQ0VTU19TQVZFKVxuXHRcdFx0dGhpcy5fY2xlYW5GaWVsZHMoKVxuXHRcdH1cblx0XHRlbHNlIEhlbHBlcnMuZHJhd01lc3NhZ2UoJ2RhbmdlcicsIHJlc3BvbnNlLm1lc3NhZ2UpXG5cdH1cblxuXHRzZW5kRGF0YSgpIHtcblx0XHRsZXQgZGF0YSA9IHRoaXMuY3JlYXRlRGF0YVRvU2VuZCgpXG5cdFx0SGVscGVycy5zZW5kRGF0YVRvU2VydmVyKCB0aGlzLl9VUkxfU0FWRV9QT05FTkNJQSwgZGF0YSwgdGhpcy5fdmFsaWRSZXNwb25zZSApXG5cdH1cblxuXHRjcmVhdGVEYXRhVG9TZW5kKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwb25lbnRlICA6IHRoaXMuX3BvbmVudGUsXG5cdFx0XHR0ZW1hICAgICA6IHRoaXMuX3RlbWEsXG5cdFx0XHRkYXRlICAgICA6IHRoaXMuX2RhdGUsXG5cdFx0XHRzdGFydEhvdXI6IHRoaXMuX3N0YXJ0SG91cixcblx0XHRcdGVuZEhvdXIgIDogdGhpcy5fZW5kSG91cixcblx0XHRcdG1pbkxhdGUgIDogdGhpcy5fbWluTGF0ZSxcblx0XHRcdG1pbkZhdWx0IDogdGhpcy5fbWluRmF1bHQsXG5cdFx0XHRhdWxhICAgICA6IHRoaXMuX2F1bGFcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9uZW5jaWEiLCJpbXBvcnQgUG9uZW5jaWEgZnJvbSAnLi9Qb25lbmNpYS5qcydcblxuJCgnI2J0blNhdmUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuXHR2YXIgcG9uZW5jaWEgPSBuZXcgUG9uZW5jaWEoLTEsICQoJyNwb25lbnRlcycpLnZhbCgpLCAkKCcjdGVtYXMnKS52YWwoKSwgJCgnI2RhdGUnKS52YWwoKSwgXG5cdFx0XHRcdFx0XHRcdFx0JCgnI3N0YXJ0SG91cicpLnZhbCgpLCAkKCcjZW5kSG91cicpLnZhbCgpLCAkKCcjbWluTGF0ZScpLnZhbCgpLCBcblx0XHRcdFx0XHRcdFx0XHQkKCcjbWluRmF1bHQnKS52YWwoKSwgJCgnI2F1bGEnKS52YWwoKVxuXHRcdFx0XHRcdFx0XHQpXG5cblx0aWYgKCFwb25lbmNpYS5pc1ZhbGlkUG9uZW5jaWEoKSkgcmV0dXJuIGZhbHNlXG5cblx0cG9uZW5jaWEuc2VuZERhdGEoKVxuXG5cdHJldHVybiBmYWxzZS8vVGllbmUgbGEgbWlzbWEgZnVuY2lvbiBxdWUgZWwgZS5wcmV2ZW50RGVmYXVsdCgpXG59KVxuXG5mdW5jdGlvbiBoYW5kbGVyTmV3RGF0YShkYXRhLCBvYmplY3QpIHtcblx0b2JqZWN0LmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cIicgKyBkYXRhLmlkICsgJ1wiPicgKyBkYXRhLm5hbWUgKyAnPC9vcHRpb24+Jylcbn1cblxuaW8uc29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuXHRpby5zb2NrZXQub24oJ25ldyB0ZW1hJywgKHRlbWEpID0+IHtcblx0XHRoYW5kbGVyTmV3RGF0YSh0ZW1hLCAkKCcjdGVtYXMnKSlcblx0fSlcblx0aW8uc29ja2V0Lm9uKCduZXcgcG9uZW50ZScsIChwb25lbnRlKSA9PiB7XG5cdFx0aGFuZGxlck5ld0RhdGEocG9uZW50ZSwgJCgnI3BvbmVudGVzJykpXG5cdH0pXG59KSIsImNsYXNzIEhlbHBlcnMge1xuXHRcblx0c3RhdGljIGRyYXdNZXNzYWdlKHR5cGUsIG1lc3NhZ2UpIHtcblx0XHR0aGlzLmNsZWFuTWVzc2FnZXMoKVxuXHRcdCQoJyNtZXNzYWdlcycpLnByZXBlbmQoXG5cdFx0XHQnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LScgKyB0eXBlICsgJyBhbGVydC1kaXNtaXNzaWJsZVwiIHJvbGU9XCJhbGVydFwiPicgK1xuXHRcdFx0JzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJhbGVydFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+JyArXG5cdFx0XHQnPHN0cm9uZz4nICsgbWVzc2FnZSArICc8L3N0cm9uZz4gPC9kaXY+J1xuXHRcdClcblx0XHR0aGlzLmNsZWFuTWVzc2FnZUJ5VGltZSg1MDAwKVxuXHR9XG5cblx0c3RhdGljIGNsZWFuTWVzc2FnZUJ5VGltZSh0aW1lT3V0KSB7XG5cdFx0c2V0VGltZW91dCggKCkgPT4gJCgnI21lc3NhZ2VzJykuZW1wdHkoKSwgdGltZU91dClcblx0fVxuXG5cdHN0YXRpYyBjbGVhbk1lc3NhZ2VzKCkge1xuXHRcdCQoJyNtZXNzYWdlcycpLmVtcHR5KClcblx0fVxuXG5cdHN0YXRpYyBpc051bWJlcih2YWx1ZSkge1xuXHRcdHJldHVybiAvXlxcZCskLy50ZXN0KHZhbHVlKVxuXHR9XG5cblx0c3RhdGljIHNlbmREYXRhVG9TZXJ2ZXIodXJsLCBkYXRhLCBzdWNjZXNGdW5jdGlvbikge1xuXHRcdCQucG9zdCh1cmwsIGRhdGEgLCBzdWNjZXNGdW5jdGlvbiApXG5cdCAgICAuZmFpbCggKHhociwgc3RhdHVzKSA9PiB7XG5cdCAgICAgXHRhbGVydChcIkh1Ym8gdW4gZXJyb3IgYWwgZW52aWFyIGxvcyBkYXRvcywgZmF2b3IgZGUgY29tdW5pY2Fyc2UgY29uIGVsIMOhcmVhIGRlIGluZm9ybcOhdGljYS5cIilcblx0ICAgIH0pXG5cdCAgICAuYWx3YXlzKCAoKSA9PiB7XG5cdCAgICBcdGNvbnNvbGUubG9nKCdzZW5kIGNvbXBsZXRlJylcblx0ICAgIH0pXG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVscGVycyJdfQ==
